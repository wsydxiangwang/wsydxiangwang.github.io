(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{483:function(_,v,t){"use strict";t.r(v);var e=t(33),a=Object(e.a)({},(function(){var _=this,v=_.$createElement,t=_._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("h1",{attrs:{id:"细说浏览器输入url后发生了什么"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#细说浏览器输入url后发生了什么"}},[_._v("#")]),_._v(" 细说浏览器输入URL后发生了什么")]),_._v(" "),t("h2",{attrs:{id:"dns解析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dns解析"}},[_._v("#")]),_._v(" DNS解析")]),_._v(" "),t("p",[_._v("浏览器通过向 DNS 服务器发送域名，DNS 服务器查询到与域名相对应的 IP 地址，然后返回给浏览器，浏览器再将 IP 地址打在协议上，同时请求参数也会在协议搭载，然后一并发送给对应的服务器。")]),_._v(" "),t("h2",{attrs:{id:"tcp连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tcp连接"}},[_._v("#")]),_._v(" TCP连接")]),_._v(" "),t("p",[_._v("TCP连接建立，两次不安全，四次浪费资源，三次刚刚好。")]),_._v(" "),t("p",[_._v("从最开始双方都处于"),t("code",[_._v("CLOSED")]),_._v("状态。然后服务端开始监听某个端口，进入了"),t("code",[_._v("LISTEN")]),_._v("状态。")]),_._v(" "),t("ul",[t("li",[_._v("第一次握手")])]),_._v(" "),t("p",[_._v("客户端主动发起连接，发送"),t("code",[_._v("SYN")]),_._v(", 发送完毕后，客户端进入"),t("code",[_._v("SYN-SENT")]),_._v("状态。")]),_._v(" "),t("ul",[t("li",[_._v("第二次握手")])]),_._v(" "),t("p",[_._v("服务端接收到，返回"),t("code",[_._v("SYN和ACK")]),_._v("(对应客户端发来的SYN)，发送完毕后，服务器端进入"),t("code",[_._v("SYN_RCVD")]),_._v("状态。")]),_._v(" "),t("ul",[t("li",[_._v("第三次握手")])]),_._v(" "),t("p",[_._v("客户端再发送"),t("code",[_._v("ACK")]),_._v("给服务端，发送完毕后，客户端进入"),t("code",[_._v("ESTABLISHED")]),_._v("状态；服务端收到ACK之后，也进入"),t("code",[_._v("ESTABLISHED")]),_._v("状态，TCP 握手结束。")]),_._v(" "),t("h2",{attrs:{id:"发送http请求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#发送http请求"}},[_._v("#")]),_._v(" 发送HTTP请求")]),_._v(" "),t("p",[t("strong",[_._v("TCP 三次握手结束后，开始发送 HTTP 请求报文。")])]),_._v(" "),t("p",[_._v("请求报文由请求行（request line）、请求头（header）、请求体三个部分组成,如下图所示：")]),_._v(" "),t("h2",{attrs:{id:"服务器处理请求并返回响应结果"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务器处理请求并返回响应结果"}},[_._v("#")]),_._v(" 服务器处理请求并返回响应结果")]),_._v(" "),t("h2",{attrs:{id:"浏览器解析渲染页面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#浏览器解析渲染页面"}},[_._v("#")]),_._v(" 浏览器解析渲染页面")]),_._v(" "),t("h2",{attrs:{id:"断开连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#断开连接"}},[_._v("#")]),_._v(" 断开连接")]),_._v(" "),t("p",[_._v("四次挥手后，client和server成功地断开了连接~")]),_._v(" "),t("p",[_._v("刚开始双方处于"),t("code",[_._v("ESTABLISHED")]),_._v("状态。")]),_._v(" "),t("ul",[t("li",[_._v("第一次挥手")])]),_._v(" "),t("p",[_._v("客户端想要关闭连接，向服务器发送"),t("code",[_._v("FIN")]),_._v("报文，发送完毕后，客户端进入"),t("code",[_._v("FIN_WAIT_1")]),_._v("状态。")]),_._v(" "),t("ul",[t("li",[_._v("第二次挥手")])]),_._v(" "),t("p",[_._v("服务端收到该"),t("code",[_._v("FIN")]),_._v("报文后，就向客户端发送"),t("code",[_._v("ACK")]),_._v("应答报文，接着服务端进入"),t("code",[_._v("CLOSED_WAIT")]),_._v("状态。")]),_._v(" "),t("p",[_._v("客户端接收到服务端的"),t("code",[_._v("ACK")]),_._v("应答报文后，进入"),t("code",[_._v("FIN_WAIT_2")]),_._v("状态。")]),_._v(" "),t("ul",[t("li",[_._v("第三次挥手")])]),_._v(" "),t("p",[_._v("服务端处理完数据后，向客户端发送"),t("code",[_._v("FIN")]),_._v("报文，发送完毕后，服务器端进入"),t("code",[_._v("LAST_ACK")]),_._v("状态。")]),_._v(" "),t("ul",[t("li",[_._v("第四次挥手")])]),_._v(" "),t("p",[_._v("客户端接收到来自服务端的"),t("code",[_._v("FIN")]),_._v("报文后，回一个"),t("code",[_._v("ACK")]),_._v("应答报文，并进入"),t("code",[_._v("TIME_WAIT")]),_._v("状态。")]),_._v(" "),t("p",[_._v("服务端接收到这个确认包之后，关闭连接，进入"),t("code",[_._v("CLOSED")]),_._v("状态，至此"),t("strong",[_._v("服务端已经完成连接的关闭")]),_._v("。")]),_._v(" "),t("p",[_._v("客户端等待了"),t("code",[_._v("2MSL")]),_._v("之后，自动进入"),t("code",[_._v("CLOSED")]),_._v("状态，"),t("strong",[_._v("至此客户端也完成连接的关闭")]),_._v("。")])])}),[],!1,null,null,null);v.default=a.exports}}]);